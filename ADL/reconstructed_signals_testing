function [ CM,reconstructed_test ] = reconstructed_signals_testing(D1,X,test_set,r,ct)
% Reconstructs the binary dataset by giving a 0 or a 1 to each value of the signal.

reconstructed_test = zeros(r,ct);


prod = D1*X;

for k=1:r
    for j=1:ct
        if prod(k,j)<0.5
            reconstructed_test(k,j) = 0;
        else
            reconstructed_test(k,j) = 1;
        end
    end
end



test_re = reshape(test_set,[1,r*ct]);
reconstructed_re = reshape(reconstructed_test,[1,r*ct]);


[CM,~] = confusionmat(test_re, reconstructed_re);


end
